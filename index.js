(()=>{"use strict";class e{constructor(e,t,s){this._cardData=e,this._link=e.link,this._name=e.placename,this._selectorTemplate=t,this._openImagePopup=s,this._cloneElement=document.querySelector(this._selectorTemplate).content.querySelector(".template__list").cloneNode(!0),this._imageElement=this._cloneElement.querySelector(".element__mask-group"),this._likeIconElement=this._cloneElement.querySelector(".element__like"),this._trashElement=this._cloneElement.querySelector(".element__trash"),this._subTitle=this._cloneElement.querySelector(".element__title")}_handleOpenImageInPopupImage=()=>{this._openImagePopup(this._cardData)};_handleDelete=()=>{this._cloneElement.remove(),this._cloneElement=null};_toggleLike=()=>{this._likeIconElement.classList.toggle("element__like_active")};_setEventListener(){this._likeIconElement.addEventListener("click",this._toggleLike),this._trashElement.addEventListener("click",this._handleDelete),this._imageElement.addEventListener("click",this._handleOpenImageInPopupImage)}createCard(){return this._imageElement.src=this._link,this._imageElement.alt=this._name,this._subTitle.textContent=this._name,this._setEventListener(),this._cloneElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._currentInputErrorContainer=e.currentInputErrorContainer,this._disableButtonClass=e.disableButtonClass,this._textErrorActive=e.textErrorActive,this._form=t,this._button=t.querySelector(this._submitButtonSelector),this._inputList=t.querySelectorAll(this._inputSelector)}_showInputError(){this._errorTextElement.classList.add(this._textErrorActive),this._errorTextElement.textContent=this._input.validationMessage}_hideInputError(){this._errorTextElement.classList.remove(this._textErrorActive),this._errorTextElement.textContent=""}_enableButton(){this._button.classList.remove(this._disableButtonClass),this._button.removeAttribute("disabled")}_disableButton(){this._button.classList.add(this._disableButtonClass),this._button.setAttribute("disabled",!0)}_hasValidInput(){return Array.from(this._inputList).every((e=>e.validity.valid))}_toggleButtonState(){this._hasValidInput()?this._enableButton():this._disableButton(this._button)}_checkValidity(){this._errorTextElement=document.querySelector(`#${this._input.id}-error`),this._input.validity.valid?this._hideInputError():this._showInputError()}_setEventListener(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._input=e,this._checkValidity(),this._toggleButtonState()}))}))}enableValidation(){this._setEventListener()}resetErrorBeforeOpenForm(){this._inputList.forEach((e=>{this._input=e,this._errorTextElement=document.querySelector(`#${this._input.id}-error`),e.validity.valid||this._hideInputError()})),this._disableButton()}}console.log("hi");class s{constructor(e){this._popup=document.querySelector(e),this._popupCloseButton=this._popup.querySelector(".popup__close")}_handleEscapeClose=e=>{"Escape"===e.key&&this.close()};_handleCloseButton=()=>{this.close()};_handleClickByOverlay=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._popupCloseButton.addEventListener("click",this._handleCloseButton),this._popup.addEventListener("mousedown",this._handleClickByOverlay)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscapeClose)}}class n extends s{constructor(e,t){super(e),this._submitFunction=t,this._form=this._popup.querySelector(".popup__form"),this._inputList=this._form.querySelectorAll(".popup__input")}getInputsValue(){return this._values={},this._inputList.forEach((e=>{this._values[e.name]=e.value})),this._values}setInputsValue(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this._submitFunction)}close(){super.close(),this._form.reset()}}const r=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),o={},l={inputSelector:".popup__input",submitButtonSelector:".popup__button-save-profile",currentInputErrorContainer:"input.id",disableButtonClass:"popup__button-invalid",textErrorActive:"error"},p=new class{constructor(e){this._profileName=document.querySelector(e.profileNameSelector),this._profileJob=document.querySelector(e.profileJobSelector)}getUserInfo(){return{yourname:this._profileName.textContent,yourjob:this._profileJob.textContent}}setUserInfo(e){this._profileName.textContent=e.yourname,this._profileJob.textContent=e.yourjob}}({profileNameSelector:".profile__title",profileJobSelector:".profile__subtitle"}),a=new class extends s{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup__image"),this._imagePopupFigcaptionText=this._popup.querySelector(".popup__figcaption-text")}open=e=>{this._popupImage.src=e.link,this._popupImage.alt=e.placename,this._imagePopupFigcaptionText.textContent=e.placename,super.open()}}(".popup_section_increase-image");a.setEventListeners();const u=new class{constructor(e,t){let{items:s,renderer:n}=e;this._container=document.querySelector(t),this._initialCard=s,this.renderer=n}renderItems(){this._initialCard.forEach((e=>{this.addItem(this.renderer(e))}))}addItem(e){this._container.prepend(e)}}({items:[{placename:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{placename:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{placename:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{placename:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{placename:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{placename:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:t=>new e(t,"#cardElement",a.open).createCard()},".elements__list-template");u.renderItems();const c=new n(".popup_section_edit-profile",(e=>{e.preventDefault(),p.setUserInfo(c.getInputsValue()),c.close()}));c.setEventListeners();const _=new n(".popup_section_create-card",(e=>{e.preventDefault(),u.addItem(u.renderer(_.getInputsValue())),_.close()}));_.setEventListeners(),Array.from(document.forms).forEach((e=>{const s=new t(l,e),n=e.name;o[n]=s,s.enableValidation()})),r.addEventListener("click",(()=>{o.popupEditProfileForm.resetErrorBeforeOpenForm(),c.setInputsValue(p.getUserInfo()),c.open()})),i.addEventListener("click",(()=>{o.popupCreateCardForm.resetErrorBeforeOpenForm(),_.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRTyxjQUVSLE1BQU1LLEVBQWUsSUFBSXpDLEVEbENJLCtCQ2tDaUNYLElBQzVEQSxFQUFJcUQsaUJBQ0ozQixFQUFTUyxZQUFZaUIsRUFBYXJDLGtCQUNsQ3FDLEVBQWFsRCxPQUFPLElBRXRCa0QsRUFBYTVDLG9CQUdiLE1BQU04QyxFQUFlLElBQUkzQyxFRHhDSSw4QkN3Q2lDWCxJQUM1REEsRUFBSXFELGlCQUNKYixFQUFRUyxRQUFRVCxFQUFRSSxTQUFTVSxFQUFhdkMsbUJBQzlDdUMsRUFBYXBELE9BQU8sSUFHdEJvRCxFQUFhOUMsb0JBR2IzQixNQUFNQyxLQUFLakQsU0FBUzBILE9BQU9qRSxTQUFTa0UsSUFDbEMsTUFBTXJHLEVBQU8sSUFBSUYsRUFBY3dFLEVBQWtCK0IsR0FDM0N2QyxFQUFPdUMsRUFBS3ZDLEtBQ2xCTyxFQUFlUCxHQUFROUQsRUFDdkJBLEVBQUtvQyxrQkFBa0IsSUFLekIrQixFQUF1QjFFLGlCQUFpQixTQUFTLEtBQy9DNEUsRUFBZWlDLHFCQUFxQmpFLDJCQUNwQzRELEVBQWFqQyxlQUFlTyxFQUFTTSxlQUNyQ29CLEVBQWEzQyxNQUFNLElBS3JCYyxFQUEwQjNFLGlCQUFpQixTQUFTLEtBRWxENEUsRUFBZWtDLG9CQUFvQmxFLDJCQUVuQzhELEVBQWE3QyxNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0b193ZWJwYWNrLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvX3dlYnBhY2svLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG9fd2VicGFjay8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG9fd2VicGFjay8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0b193ZWJwYWNrLy4vc3JjL3NjcmlwdHMvdXRpbHMvY2FyZHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG9fd2VicGFjay8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0b193ZWJwYWNrLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0b193ZWJwYWNrLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0b193ZWJwYWNrLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBzZWxlY3RvclRlbXBsYXRlLCBvcGVuSW1hZ2VQb3B1cCkge1xyXG4gICAgdGhpcy5fY2FyZERhdGEgPSBjYXJkRGF0YTtcclxuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLnBsYWNlbmFtZTtcclxuICAgIHRoaXMuX3NlbGVjdG9yVGVtcGxhdGUgPSBzZWxlY3RvclRlbXBsYXRlO1xyXG4gICAgdGhpcy5fb3BlbkltYWdlUG9wdXAgPSBvcGVuSW1hZ2VQb3B1cDtcclxuICAgIHRoaXMuX2Nsb25lRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yVGVtcGxhdGUpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVtcGxhdGVfX2xpc3RcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX2Nsb25lRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5lbGVtZW50X19tYXNrLWdyb3VwXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9saWtlSWNvbkVsZW1lbnQgPSB0aGlzLl9jbG9uZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlXCIpO1xyXG4gICAgdGhpcy5fdHJhc2hFbGVtZW50ID0gdGhpcy5fY2xvbmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIik7XHJcbiAgICB0aGlzLl9zdWJUaXRsZSA9IHRoaXMuX2Nsb25lRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpO1xyXG4gIH1cclxuICAvL9C80LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQutCw0YDRgtC40L3QutC4INCyINGD0LLQtdC70LjRh9C10L3QvdC+0Lwg0YDQsNC30LzQtdGA0LVcclxuICBfaGFuZGxlT3BlbkltYWdlSW5Qb3B1cEltYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fb3BlbkltYWdlUG9wdXAodGhpcy5fY2FyZERhdGEpO1xyXG4gIH07XHJcbiAgLy/QvNC10YLQvtC0INCj0LTQsNC70LXQvdC40LUg0YTQsNC50LvQsCDRh9C10YDQtdC3INC60L7RgNC30LjQvdGDXHJcbiAgX2hhbmRsZURlbGV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Nsb25lRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2Nsb25lRWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuICAvL9C80LXRgtC+0LQg0LLQutC70Y7Rh9Cw0YLQtdC70Y8v0LLRi9C60LvRjtGH0LDRgtC10LvRjyDQu9Cw0LnQulxyXG4gIF90b2dnbGVMaWtlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbGlrZUljb25FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICB9O1xyXG4gIC8v0YHQu9GD0YjQsNGC0LXQu9C4INC90LAg0YHRgtGA0LDQvdC40YbQtSAo0LvQsNC50LosINC60L7RgNC30LjQvdCwLCDQutCw0YDRgtC40L3QutCwINGD0LLQtdC70YfQuNC10L3QvdCw0Y8pXHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9saWtlSWNvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3RvZ2dsZUxpa2UpO1xyXG4gICAgdGhpcy5fdHJhc2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVEZWxldGUpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlT3BlbkltYWdlSW5Qb3B1cEltYWdlXHJcbiAgICApO1xyXG4gIH1cclxuICAvL9GB0L7RgdC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zdWJUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xvbmVFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvYmplY3QsIGZvcm0pIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBvYmplY3QuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gb2JqZWN0LnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5fY3VycmVudElucHV0RXJyb3JDb250YWluZXIgPSBvYmplY3QuY3VycmVudElucHV0RXJyb3JDb250YWluZXI7XHJcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uQ2xhc3MgPSBvYmplY3QuZGlzYWJsZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5fdGV4dEVycm9yQWN0aXZlID0gb2JqZWN0LnRleHRFcnJvckFjdGl2ZTtcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy/Qv9C+0LrQsNC30YvQstCw0LXQvCDQvtGI0LjQsdC60Lgg0YLQtdC60YHRgivQutGA0LDRgdC90LDRjyDQu9C40L3QuNGPXHJcbiAgX3Nob3dJbnB1dEVycm9yKCkge1xyXG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3RleHRFcnJvckFjdGl2ZSk7XHJcbiAgICB0aGlzLl9lcnJvclRleHRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5faW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG4gIC8v0YHQutGA0YvQstCw0LXQvCDQvtGI0LjQsdC60Lgg0YLQtdC60YHRgivQutGA0LDRgdC90LDRjyDQu9C40L3QuNGPXHJcbiAgX2hpZGVJbnB1dEVycm9yKCkge1xyXG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3RleHRFcnJvckFjdGl2ZSk7XHJcbiAgICB0aGlzLl9lcnJvclRleHRFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kaXNhYmxlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9kaXNhYmxlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX2hhc1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pbnB1dExpc3QpLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc1ZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24odGhpcy5fYnV0dG9uKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/Qv9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4XHJcbiAgX2NoZWNrVmFsaWRpdHkoKSB7XHJcbiAgICB0aGlzLl9lcnJvclRleHRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5faW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpZiAodGhpcy5faW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eSgpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxuICAvL9GB0LHRgNC+0YEg0L7RiNC40LHQutC4INC/0LXRgNC10LQg0L7RgtC60YDRi9GC0LjQtdC8INC/0L7Qv9Cw0L9cclxuICByZXNldEVycm9yQmVmb3JlT3BlbkZvcm0oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcclxuICAgICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgYCMke3RoaXMuX2lucHV0LmlkfS1lcnJvcmBcclxuICAgICAgKTtcclxuICAgICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc29sZS5sb2coXCJoaVwiKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fcG9wdXApXHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbiAgICAvL3RoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24pXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUNsb3NlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVDbGlja0J5T3ZlcmxheSA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbik7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZUNsaWNrQnlPdmVybGF5KTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0RnVuY3Rpb24gPSBzdWJtaXRGdW5jdGlvbjtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fc3VibWl0RnVuY3Rpb24pXHJcbiAgICAvL3RoaXMuX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9mb3JtKVxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5faW5wdXRMaXN0KVxyXG4gICAgLy9jb25zb2xlLmxvZyhnZXRJbnB1dHNWYWx1ZSgpKTtcclxuICB9XHJcblxyXG4gIGdldElucHV0c1ZhbHVlKCkge1xyXG4gICAgdGhpcy5fdmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fdmFsdWVzKVxyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldElucHV0c1ZhbHVlKGRhdGFGb3JtVXNlcikge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YUZvcm1Vc2VyW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKGRhdGFGb3JtVXNlcilcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9zdWJtaXRGdW5jdGlvbik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBwbGFjZW5hbWU6IFwi0JDRgNGF0YvQt1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGxhY2VuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwbGFjZW5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlbmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgcG9wdXBPcGVuQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwT3BlbkJ1dHRvbkFkZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIlxyXG4pO1xyXG5cclxuY29uc3Qgc2VsZWN0b3JUZW1wbGF0ZSA9IFwiI2NhcmRFbGVtZW50XCI7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZVNlbGVjdG9yID0gXCIucG9wdXBfc2VjdGlvbl9lZGl0LXByb2ZpbGVcIjtcclxuXHJcbmNvbnN0IHBvcHVwQWRkQ2FyZFNlbGVjdG9yID0gXCIucG9wdXBfc2VjdGlvbl9jcmVhdGUtY2FyZFwiO1xyXG5cclxuY29uc3QgcG9wdXBJbWFnZVNlbGVjdG9yID0gXCIucG9wdXBfc2VjdGlvbl9pbmNyZWFzZS1pbWFnZVwiO1xyXG5jb25zdCBsaXN0c0ZvclRlbXBsYXRlRWxlbWVudFNlbGVjdG9yID0gXCIuZWxlbWVudHNfX2xpc3QtdGVtcGxhdGVcIjtcclxuXHJcbmNvbnN0IGZvcm1zVmFsaWRhdG9yID0ge307XHJcbi8vY29uc29sZS5sb2coZm9ybXNWYWxpZGF0b3IpXHJcblxyXG5jb25zdCBjb25maWdQcm9maWxlSW5mbyA9IHtcclxuICAvL3Byb2ZpbGVOYW1lU2VsZWN0b3I6ICcucG9wdXBfX2lucHV0X2VkaXRfbmFtZScsXHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuXHJcbiAgLy9wcm9maWxlTmFtZVNlbGVjdG9yOiAnI25hbWVJbnB1dCcsXHJcbiAgLy9wcm9maWxlSm9iU2VsZWN0b3I6ICcucG9wdXBfX2lucHV0X2VkaXRfam9iJ1xyXG4gIHByb2ZpbGVKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxufTtcclxuLy9jb25zb2xlLmxvZyhjb25maWdQcm9maWxlSW5mbylcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25PYmplY3QgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b24tc2F2ZS1wcm9maWxlXCIsXHJcblxyXG4gIGN1cnJlbnRJbnB1dEVycm9yQ29udGFpbmVyOiBcImlucHV0LmlkXCIsXHJcbiAgZGlzYWJsZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b24taW52YWxpZFwiLFxyXG4gIHRleHRFcnJvckFjdGl2ZTogXCJlcnJvclwiLFxyXG59O1xyXG4vL2NvbnNvbGUubG9nKHZhbGlkYXRpb25PYmplY3QpXHJcblxyXG5leHBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBwb3B1cE9wZW5CdXR0b25FbGVtZW50LFxyXG4gIHBvcHVwT3BlbkJ1dHRvbkFkZEVsZW1lbnQsXHJcbiAgc2VsZWN0b3JUZW1wbGF0ZSxcclxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcclxuICBwb3B1cEFkZENhcmRTZWxlY3RvcixcclxuICBwb3B1cEltYWdlU2VsZWN0b3IsXHJcbiAgbGlzdHNGb3JUZW1wbGF0ZUVsZW1lbnRTZWxlY3RvcixcclxuICBmb3Jtc1ZhbGlkYXRvcixcclxuICBjb25maWdQcm9maWxlSW5mbyxcclxuICB2YWxpZGF0aW9uT2JqZWN0LFxyXG59O1xyXG4iLCIvL9C40LzQv9C+0YDRgtGLINC40Lcg0LTRgNGD0LPQuNGFINGE0LDQudC70L7QslxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcblxyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIHBvcHVwT3BlbkJ1dHRvbkVsZW1lbnQsXHJcbiAgcG9wdXBPcGVuQnV0dG9uQWRkRWxlbWVudCxcclxuICBzZWxlY3RvclRlbXBsYXRlLFxyXG4gIHBvcHVwUHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwQWRkQ2FyZFNlbGVjdG9yLFxyXG4gIHBvcHVwSW1hZ2VTZWxlY3RvcixcclxuICBsaXN0c0ZvclRlbXBsYXRlRWxlbWVudFNlbGVjdG9yLFxyXG4gIGZvcm1zVmFsaWRhdG9yLFxyXG4gIGNvbmZpZ1Byb2ZpbGVJbmZvLFxyXG4gIHZhbGlkYXRpb25PYmplY3QsXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY2FyZHMuanNcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcblxyXG4vLyDQmNGJ0LXQvCDQvdC10L7QsdGF0L7QtNC40LzRi9C1INGN0LvQtdC80LXQvdGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC/0L4g0LrQu9Cw0YHRgdCw0LwgKNC80L7QttC90L4g0L/QviDQtNGA0YPQs9C40Lwg0LjQtNC10L3RgtC40YTQuNC60LDRgtC+0YDQsNC8KVxyXG4vL2NvbnN0IHBvcHVwQWxsRWxlbWVudHNPblBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcclxuLy9jb25zdCBwb3B1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4vL2NvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3NlY3Rpb25fZWRpdC1wcm9maWxlXCIpO1xyXG4vL2NvbnN0IHBvcHVwQ2xvc2VCdXR0b25FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2Nsb3NlXCIpO1xyXG4vKiBjb25zdCBwb3B1cEZvcm1FZGl0UHJvZmlsZSA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2VkaXRfcHJvZmlsZScpOyAqLyAvL9Cw0LvRjNGC0LXRgNC90LDRgtC40LLQvdGL0Lkg0LLQsNGA0LjQsNC90YIg0L3QsNGF0L7QttC00LXQvdC40Y8g0YTQvtGA0LzRi1xyXG4vL2NvbnN0IHBvcHVwRm9ybUVkaXRQcm9maWxlID0gZG9jdW1lbnQuZm9ybXNbXCJwb3B1cEVkaXRQcm9maWxlRm9ybVwiXTtcclxuLy9jb25zdCBuYW1lSW5wdXRFbGVtZW50ID0gcG9wdXBGb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZWRpdF9uYW1lXCIpO1xyXG4vL2NvbnN0IGpvYklucHV0RWxlbWVudCA9IHBvcHVwRm9ybUVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X2VkaXRfam9iXCIpO1xyXG4vL2NvbnN0IHByb2ZpbGVOYW1lVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG4vL2NvbnN0IHByb2ZpbGVKb2JTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XHJcbi8v0KjQsNCx0LvQvtC9INC60LDRgNGC0LjQvdC60LAgKyDQvdCw0L/QtNC40YHRjCArINC70LDQudC6ICsg0LrQvtGA0LfQuNC90LBcclxuLy9jb25zdCB1c2VyVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbXBsYXRlXCIpLmNvbnRlbnQ7XHJcbi8vY29uc3QgdXNlckltYWdlID0gdXNlclRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbWFzay1ncm91cFwiKTtcclxuLy9jb25zdCB0ZW1wbGF0ZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saXN0LXRlbXBsYXRlXCIpO1xyXG4vL9Cf0L7Qv9Cw0L8g0L7RgtC60L/Ri9GC0LjRjyDQutCw0YDRgtC40L3QutC4INGBINGD0LLQtdC70LjRh9C10L3QuNC10Lwg0L3QsCDRjdC60YDQsNC9XHJcbi8vY29uc3QgcG9wdXBJbmNyZWFzZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9zZWN0aW9uX2luY3JlYXNlLWltYWdlXCIpO1xyXG4vL2NvbnN0IHBvcHVwSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbi8vY29uc3QgcG9wdXBGaWdjYXB0aW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ZpZ2NhcHRpb24tdGV4dFwiKTtcclxuLy/Qn9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRh9GC0L7QutC4XHJcbi8vY29uc3QgcG9wdXBDcmVhdGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9zZWN0aW9uX2NyZWF0ZS1jYXJkXCIpO1xyXG4vKiBjb25zdCBwb3B1cEZvcm1DcmVhdGVDYXJkID0gcG9wdXBDcmVhdGVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9jcmVhdGVfY2FyZCcpOyAqLyAvL9Cw0LvRjNGC0LXRgNC90LDRgtC40LLQvdGL0Lkg0LLQsNGA0LjQsNC90YIg0L3QsNGF0L7QttC00LXQvdC40Y8g0YTQvtGA0LzRi1xyXG4vL2NvbnN0IHBvcHVwRm9ybUNyZWF0ZUNhcmQgPSBkb2N1bWVudC5mb3Jtc1tcInBvcHVwQ3JlYXRlQ2FyZEZvcm1cIl07XHJcbi8vY29uc3QgcGxhY2VOYW1lSW5wdXRDcmVhdGVDYXJkID0gcG9wdXBGb3JtQ3JlYXRlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9lZGl0X3BsYWNlLW5hbWVcIik7XHJcbi8vY29uc3QgaW1hZ2VVcmxJbnB1dENyZWF0ZUNhcmQgPSBwb3B1cEZvcm1DcmVhdGVDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X2VkaXRfaW1hZ2UtdXJsXCIpO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oY29uZmlnUHJvZmlsZUluZm8pO1xyXG4vL2NvbnNvbGUubG9nKHVzZXJJbmZvKVxyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2VTZWxlY3Rvcik7XHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChlbGVtZW50LCBzZWxlY3RvclRlbXBsYXRlLCBwb3B1cEltYWdlLm9wZW4pO1xyXG4gICAgICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgbGlzdHNGb3JUZW1wbGF0ZUVsZW1lbnRTZWxlY3RvclxyXG4pO1xyXG5cclxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlU2VsZWN0b3IsIChldnQpID0+IHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhwb3B1cFByb2ZpbGUuZ2V0SW5wdXRzVmFsdWUoKSk7XHJcbiAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XHJcbn0pO1xyXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy9jb25zb2xlLmxvZyhwb3B1cFByb2ZpbGUpXHJcblxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZENhcmRTZWxlY3RvciwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShzZWN0aW9uLnJlbmRlcmVyKHBvcHVwQWRkQ2FyZC5nZXRJbnB1dHNWYWx1ZSgpKSk7XHJcbiAgcG9wdXBBZGRDYXJkLmNsb3NlKCk7XHJcbn0pO1xyXG4vL2NvbnNvbGUubG9nKHBvcHVwQWRkQ2FyZClcclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyA3Nzc3Nzc3Nzc3Nzc3NzdcclxuQXJyYXkuZnJvbShkb2N1bWVudC5mb3JtcykuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uT2JqZWN0LCBpdGVtKTtcclxuICBjb25zdCBuYW1lID0gaXRlbS5uYW1lO1xyXG4gIGZvcm1zVmFsaWRhdG9yW25hbWVdID0gZm9ybTtcclxuICBmb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INGA0LXQtC3RjyDQv9GA0L7RhNC40LvRjyDRgSDQv9C10YDQtdC00LDRh9C10Lkg0LfQvdCw0YfQtdC90LjQuSDRgdC+INGB0YLRgNCw0L3QuNGG0Ysg0LIg0L/QvtC/0LDQv1xyXG4vKiBwb3B1cE9wZW5CdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7ICovXHJcbnBvcHVwT3BlbkJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmb3Jtc1ZhbGlkYXRvci5wb3B1cEVkaXRQcm9maWxlRm9ybS5yZXNldEVycm9yQmVmb3JlT3BlbkZvcm0oKTtcclxuICBwb3B1cFByb2ZpbGUuc2V0SW5wdXRzVmFsdWUodXNlckluZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQtNC70Y8g0L7RgtC60YDRi9Cy0LDQtdC90LjRjyDQv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4IOKEljJcclxuLyogcG9wdXBPcGVuQnV0dG9uQWRkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyAqL1xyXG5wb3B1cE9wZW5CdXR0b25BZGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgLyogcG9wdXBGb3JtQ3JlYXRlQ2FyZC5yZXNldCgpOyAqL1xyXG4gIGZvcm1zVmFsaWRhdG9yLnBvcHVwQ3JlYXRlQ2FyZEZvcm0ucmVzZXRFcnJvckJlZm9yZU9wZW5Gb3JtKCk7XHJcbiAgLyogb3BlblBvcHVwKHBvcHVwQ3JlYXRlQ2FyZCk7ICovXHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG4vKiAvL9GE0YPQvdC60YbQuNGPPyDQutC+0YLQvtGA0LDRjyDQtNC+0LHQsNCy0LvRj9C10YIg0LrQsNGA0YLQvtGH0LrQuCDQsiDQvdGD0LbQvdGL0Lkg0LrQvtC90YLQtdC50L3QtdGAXHJcbmZ1bmN0aW9uIGFkZENhcmQoY29udGFpbmVyLCBjYXJkKSB7XHJcbiAgY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XHJcbn0gKi9cclxuXHJcbi8qIC8v0YHQtNC10LvQsNC10Lwg0LrQvtC/0LjRjiDQutC70LDRgdGB0LAg0LTQu9GPINGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwb3B1cEZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmplY3QsIHBvcHVwRm9ybUVkaXRQcm9maWxlKTtcclxucG9wdXBGb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy/RgdC00LXQu9Cw0LXQvCDQutC+0L/QuNGOINC60LvQsNGB0YHQsCDQtNC70Y8g0YTQvtGA0LzRiyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGH0YLQvtC60LggXHJcbmNvbnN0IHBvcHVwRm9ybUNyZWF0ZUNhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uT2JqZWN0LCBwb3B1cEZvcm1DcmVhdGVDYXJkKTtcclxucG9wdXBGb3JtQ3JlYXRlQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7ICovXHJcblxyXG4vKiAvL9GB0L7Qt9C00LDQvdC40LUg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHRgtGA0LDQvdC40YbRiyDQvdCw0YfQsNC70YzQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG5pbml0aWFsQ2FyZHMucG9wdXBGb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gIGFkZENhcmQodGVtcGxhdGVMaXN0LCBjcmVhdGVOZXdDYXJkKGVsZW1lbnQpKTtcclxufSk7ICovXHJcblxyXG4vKiAvL9Ck0YPQvdC60YbQuNGPINC60L7RgtC+0YDQsNGPINC/0LXRgNC10LTQsNC10YIg0LLQstC10LTQtdC90L3Ri9C1INC30L3QsNGH0LXQvdC40Y8g0LIg0L/QvtC/0LDQv9C1INC90LAg0YHRgtGA0LDQvdC40YbRgyDQv9GA0Lgg0LXQtSDQt9Cw0LrRgNGL0YLQuNC4XHJcbmNvbnN0IGhhbmRsZUZvcm1FZGl0UHJvZmlsZVN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAvLyDQotGD0YIg0LzRiyDQv9GA0L7Qv9C40YHQsNC70LgsINGH0YLQvtCx0Ysg0LfQvdCw0YfQtdC90LjQtSDRgtC10LrRgdGC0LAsINC60L7RgtC+0YDQvtC1INC80Ysg0L3QsNC/0LjRiNC10Lwg0LIg0L7RgtC60YDRi9Cy0YjQtdC80YHRjyDQv9C+0L/QsNC/0LUsINCz0LTQtSDQuNC80Y8gXCLQmtGD0YHRgtC+XCIsINC/0LXRgNC10LTQsNCy0LDQu9C+0YHRjCDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LAg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgcHJvZmlsZU5hbWVUaXRsZS50ZXh0Q29udGVudCA9IG5hbWVJbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgLy8g0KLRg9GCINC80Ysg0L/RgNC+0L/QuNGB0LDQu9C4LCDRh9GC0L7QsdGLINC30L3QsNGH0LXQvdC40LUg0YLQtdC60YHRgtCwLCDQutC+0YLQvtGA0L7QtSDQvNGLINC90LDQv9C40YjQtdC8INCyINC+0YLQutGA0YvQstGI0LXQvNGB0Y8g0L/QvtC/0LDQv9C1LCDQs9C00LUg0LTQvtC70LbQvdC+0YHRgtGMIFwi0JjRgdGB0LvQtdC00L7QstCw0YLQtdC+0YIg0L7QutC10LDQvdCwXCIsINC/0LXRgNC10LTQsNCy0LDQu9C+0YHRjCDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LAg0L3QsCDRgdGC0LDRgNCw0L3QuNGG0YNcclxuICBwcm9maWxlSm9iU3VidGl0bGUudGV4dENvbnRlbnQgPSBqb2JJbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgY2xvc2VQb3B1cChwb3B1cEVkaXRQcm9maWxlKTtcclxufTtcclxuXHJcbnBvcHVwRm9ybUVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRm9ybUVkaXRQcm9maWxlU3VibWl0KTsgKi9cclxuXHJcbi8v0YHQvtC30LTQsNC10Lwg0LrQu9C+0L0g0LzQsNGB0YHQuNCy0LAgdGVtcGxhdGUg0LIg0L3QvtCy0YPRjiDQv9C10YDQtdC80LXQvdC90YPRjlxyXG4vKiBmdW5jdGlvbiBjcmVhdGVOZXdDYXJkIChlbGVtZW50KSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGVsZW1lbnQsIHNlbGVjdG9yVGVtcGxhdGUsIHBvcHVwSW1hZ2Uub3Blbik7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmNyZWF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07ICovXHJcblxyXG4vKiAvL9GE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC40Lcg0L/QvtC/0LDQv1xyXG5wb3B1cEZvcm1DcmVhdGVDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IHBsYWNlTmFtZUltYWdlVVJMRWxlbWVudCA9IHtcclxuICAgIG5hbWU6IHBsYWNlTmFtZUlucHV0Q3JlYXRlQ2FyZC52YWx1ZSxcclxuICAgIGxpbms6IGltYWdlVXJsSW5wdXRDcmVhdGVDYXJkLnZhbHVlLFxyXG4gIH07XHJcbiAgXHJcbiAgYWRkQ2FyZCh0ZW1wbGF0ZUxpc3QsIGNyZWF0ZU5ld0NhcmQocGxhY2VOYW1lSW1hZ2VVUkxFbGVtZW50KSk7XHJcbiAgY2xvc2VQb3B1cChwb3B1cENyZWF0ZUNhcmQpO1xyXG59KTsgKi9cclxuXHJcbi8qIC8v0YTRg9C90LrRhtC40Y8g0KPQtNCw0LvQtdC90LjQtSDRhNCw0LnQu9CwINGH0LXRgNC10Lcg0LrQvtGA0LfQuNC90YNcclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGV2ZW50KSB7XHJcbiAgY29uc3QgY2FyZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLnRlbXBsYXRlX19saXN0XCIpO1xyXG4gIC8vIGNvbnNvbGUubG9nKGNhcmQpXHJcbiAgY2FyZC5yZW1vdmUoKTtcclxufSAqL1xyXG4vKiAvL9GE0YPQvdC60YbQuNGPINCy0LrQu9GO0YfQsNGC0LXQu9GPL9Cy0YvQutC70Y7Rh9Cw0YLQtdC70Y8g0LvQsNC50LpcclxuZnVuY3Rpb24gdG9nZ2xlTGlrZShldmVudCkge1xyXG4gIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XHJcbn0gKi9cclxuXHJcbi8qIC8v0L7QsdGI0LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0YHQu9GD0YjQsNGC0LXQu9C10Lkg0L3QsCDRgdGC0YDQsNC90LjRhtC1ICjQu9Cw0LnQuiwg0LrQvtGA0LfQuNC90LApXHJcbmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGNhcmRFbGVtZW50KSB7XHJcbiAgY2FyZEVsZW1lbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RyYXNoXCIpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZSk7IC8v0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LrQvtGA0LfQuNC90YNcclxuICBjYXJkRWxlbWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVMaWtlKTsgLy/RgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQu9Cw0LnQulxyXG59ICovXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWdQcm9maWxlSW5mbykge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBjb25maWdQcm9maWxlSW5mby5wcm9maWxlTmFtZVNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9wcm9maWxlTmFtZSlcclxuICAgIHRoaXMuX3Byb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBjb25maWdQcm9maWxlSW5mby5wcm9maWxlSm9iU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX3Byb2ZpbGVKb2IpXHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHlvdXJuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgeW91cmpvYjogdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhRm9ybVVzZXIpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YUZvcm1Vc2VyLnlvdXJuYW1lO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudClcclxuICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSBkYXRhRm9ybVVzZXIueW91cmpvYjtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIC8qIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7ICovXHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX3BvcHVwSW1hZ2UpXHJcbiAgICB0aGlzLl9pbWFnZVBvcHVwRmlnY2FwdGlvblRleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fZmlnY2FwdGlvbi10ZXh0XCJcclxuICAgICk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2ltYWdlUG9wdXBGaWdjYXB0aW9uVGV4dClcclxuICB9XHJcblxyXG4gIG9wZW4gPSAoY2FyZEltYWdlRGF0YSkgPT4ge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBjYXJkSW1hZ2VEYXRhLmxpbms7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9jYXJkSW1hZ2VEYXRhLnNyYylcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gY2FyZEltYWdlRGF0YS5wbGFjZW5hbWU7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9jYXJkSW1hZ2VEYXRhLmFsdClcclxuICAgIHRoaXMuX2ltYWdlUG9wdXBGaWdjYXB0aW9uVGV4dC50ZXh0Q29udGVudCA9IGNhcmRJbWFnZURhdGEucGxhY2VuYW1lO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9pbWFnZVBvcHVwRmlnY2FwdGlvblRleHQudGV4dENvbnRlbnQpXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbml0aWFsQ2FyZCA9IGl0ZW1zO1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQ2FyZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLnJlbmRlcmVyKGVsZW1lbnQpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBhZGRJdGVtKGVsZW1lbnREb20pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnREb20pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiY2FyZERhdGEiLCJzZWxlY3RvclRlbXBsYXRlIiwib3BlbkltYWdlUG9wdXAiLCJ0aGlzIiwiX2NhcmREYXRhIiwiX2xpbmsiLCJsaW5rIiwiX25hbWUiLCJwbGFjZW5hbWUiLCJfc2VsZWN0b3JUZW1wbGF0ZSIsIl9vcGVuSW1hZ2VQb3B1cCIsIl9jbG9uZUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2ltYWdlRWxlbWVudCIsIl9saWtlSWNvbkVsZW1lbnQiLCJfdHJhc2hFbGVtZW50IiwiX3N1YlRpdGxlIiwiX2hhbmRsZU9wZW5JbWFnZUluUG9wdXBJbWFnZSIsIl9oYW5kbGVEZWxldGUiLCJyZW1vdmUiLCJfdG9nZ2xlTGlrZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9zZXRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJvYmplY3QiLCJmb3JtIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY3VycmVudElucHV0RXJyb3JDb250YWluZXIiLCJjdXJyZW50SW5wdXRFcnJvckNvbnRhaW5lciIsIl9kaXNhYmxlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlQnV0dG9uQ2xhc3MiLCJfdGV4dEVycm9yQWN0aXZlIiwidGV4dEVycm9yQWN0aXZlIiwiX2Zvcm0iLCJfYnV0dG9uIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2hvd0lucHV0RXJyb3IiLCJfZXJyb3JUZXh0RWxlbWVudCIsImFkZCIsIl9pbnB1dCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2VuYWJsZUJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl9kaXNhYmxlQnV0dG9uIiwic2V0QXR0cmlidXRlIiwiX2hhc1ZhbGlkSW5wdXQiLCJBcnJheSIsImZyb20iLCJldmVyeSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja1ZhbGlkaXR5IiwiaWQiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0RXJyb3JCZWZvcmVPcGVuRm9ybSIsImNvbnNvbGUiLCJsb2ciLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsImV2dCIsImtleSIsImNsb3NlIiwiX2hhbmRsZUNsb3NlQnV0dG9uIiwiX2hhbmRsZUNsaWNrQnlPdmVybGF5IiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsInN1cGVyIiwiX3N1Ym1pdEZ1bmN0aW9uIiwiZ2V0SW5wdXRzVmFsdWUiLCJfdmFsdWVzIiwibmFtZSIsInZhbHVlIiwic2V0SW5wdXRzVmFsdWUiLCJkYXRhRm9ybVVzZXIiLCJyZXNldCIsInBvcHVwT3BlbkJ1dHRvbkVsZW1lbnQiLCJwb3B1cE9wZW5CdXR0b25BZGRFbGVtZW50IiwiZm9ybXNWYWxpZGF0b3IiLCJ2YWxpZGF0aW9uT2JqZWN0IiwidXNlckluZm8iLCJjb25maWdQcm9maWxlSW5mbyIsIl9wcm9maWxlTmFtZSIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJfcHJvZmlsZUpvYiIsInByb2ZpbGVKb2JTZWxlY3RvciIsImdldFVzZXJJbmZvIiwieW91cm5hbWUiLCJ5b3Vyam9iIiwic2V0VXNlckluZm8iLCJwb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfaW1hZ2VQb3B1cEZpZ2NhcHRpb25UZXh0IiwiY2FyZEltYWdlRGF0YSIsInNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9pbml0aWFsQ2FyZCIsInJlbmRlckl0ZW1zIiwiZWxlbWVudCIsImFkZEl0ZW0iLCJlbGVtZW50RG9tIiwicHJlcGVuZCIsInBvcHVwUHJvZmlsZSIsInByZXZlbnREZWZhdWx0IiwicG9wdXBBZGRDYXJkIiwiZm9ybXMiLCJpdGVtIiwicG9wdXBFZGl0UHJvZmlsZUZvcm0iLCJwb3B1cENyZWF0ZUNhcmRGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==